# Diffusion Probabilistic Models for Unpaired AT-TPC Events Translation

## Installation

1. git clone this project

2. Create an environment by running

```shell
conda env create -f env.yml
conda activate dpm-pc-gen
```

## Datasets
We provided data processing notebooks inside the [data](data/) folder. Sample toy datasets can be generated by the data processing notebook from the [data](data/) folder  

## Training
We need to first train two diffusion models in each domain in preparation for translation. Remember to change the dataset_path inside [train_gen.py](train/train_gen.py) to match the dataset.
```shell
cd train
sbatch trainDPM.sh
```

After training, you can find the checkpoints of models inside logs_gen folder. Paste the desired checkpoint path to [CycleDiffusion.ipynb](CycleDiffusion) notebook. Then follows the instruction inside the notebook to start translation.
